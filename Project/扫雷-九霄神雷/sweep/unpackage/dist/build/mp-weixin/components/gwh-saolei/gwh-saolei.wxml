<view class="content wrap"><view class="titleLine"><view data-event-opts="{{[['tap',[['initMap',['$event']]]]]}}" bindtap="__e"><block wx:if="{{isGameOver}}"><image src="../../static/imgs/dead.png"></image></block><block wx:else><block wx:if="{{isGameSuccess}}"><image src="../../static/imgs/smile.png"></image></block><block wx:else><image src="../../static/imgs/smile2.png"></image></block></block></view><text data-event-opts="{{[['tap',[['switchMusic']]]]}}" class="{{['music',(quiet)?'del':'']}}" bindtap="__e">音效</text><view>{{"剩余："+$root.m0}}</view></view><view class="contentMap"><view><block wx:for="{{mask}}" wx:for-item="row" wx:for-index="i"><view class="{{['placeInRow',classMax]}}"><block wx:for="{{row}}" wx:for-item="block" wx:for-index="j"><view class="content"><block wx:if="{{block===1}}"><view class="block"><block wx:if="{{maps[i][j]>0}}"><view class="open">{{maps[i][j]}}</view></block><block wx:else><block wx:if="{{maps[i][j]===0}}"><view class="none"></view></block><block wx:else><view class="boom"></view></block></block></view></block><block wx:else><block wx:if="{{block===0}}"><view data-event-opts="{{[['tap',[['setMask',[i,j,'open']]]],['longpress',[['setMask',[i,j,'mask']]]]]}}" class="block " bindtap="__e" bindlongpress="__e"></view></block><block wx:else><block wx:if="{{block===-1}}"><view data-event-opts="{{[['longpress',[['setMask',[i,j,'mask']]]]]}}" class="block " bindlongpress="__e"><image src="../../static/imgs/flag.png"></image></view></block><block wx:else><block wx:if="{{block===2}}"><view class="block "><image src="../../static/imgs/error.png"></image></view></block></block></block></block></view></block></view></block></view></view><block wx:if="{{isGameOver}}"><button class="again" type="default" data-event-opts="{{[['tap',[['initMap']]]]}}" bindtap="__e">再来一局</button></block></view>